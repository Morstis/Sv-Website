<mors-generic-popup *ngIf="preQuestion">
  <div class="popup">
    <h1>Wie viele Boxen soll der neue "Wegpunkt" haben?</h1>
    <div>
      <div id="input">
        <input type="text" #boxen />
        <button type="submit" (click)="continue(boxen.value)">Senden</button>
      </div>
    </div>
  </div>
</mors-generic-popup>

<div id="box_overlay" scroll="no" *ngIf="!preQuestion">
  <div
    *ngFor="let div of divs; last as isLast; let i = index"
    class="box"
    [ngStyle]="{
      width: calcWidth(isLast) + '%',
      height: calcHeight(isLast) + '%',
      'background-image': div.load
        ? 'url(../../../assets/icons/Spinner-1.8s-200px.svg)'
        : '',
      background: div.image ? setBackground(div.image, isLast) : '',
      opacity: div.image ? 1 : 0.3
    }"
    (click)="fileInput.click()"
    [morsDragDrop]="div.image ? false : true"
    (onFileDropped)="preview($event, i)"
  >
    <!-- prettier-ignore -->
    <h1 class="centerH" *ngIf="div.load ? false : div.image ? false : true">
      Neuen "Punkt" erstellen
    </h1>
    <input
      hidden
      type="file"
      #fileInput
      (change)="preview($event.target.files, i)"
    />
  </div>
</div>

<mors-generic-popup
  *ngIf="
    project === 'new'
      ? false
      : project === 'existing'
      ? false
      : createPointFor >= 0
      ? true
      : false
  "
>
  <div class="popup">
    <h1>Informationen</h1>
    <div id="input" style="margin-top: 10%;">
      <label>Titel</label>
      <input type="text" #title />
      <button type="submit" (click)="setProject('existing')">
        Vorhandenes Projekt
      </button>
      <button type="submit" (click)="setProject('new')">Neues Projekt</button>
    </div>
  </div>
</mors-generic-popup>
<mors-articel
  *ngIf="project === 'new'"
  new="true"
  [image]="divs[createPointFor].image"
></mors-articel>
